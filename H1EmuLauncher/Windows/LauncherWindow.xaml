<Window x:Class="H1EmuLauncher.LauncherWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:f="clr-namespace:H1EmuLauncher.Classes"
        mc:Ignorable="d"
        UseLayoutRounding="True"
        Title="H1Emu Launcher"
        x:Name="Launcher"
        Width="1300"
        Height="750"
        WindowStartupLocation="CenterScreen"
        WindowStyle="SingleBorderWindow"
        ResizeMode="NoResize"
        FontFamily="Bahnschrift Light"
        FontSize="16"
        Foreground="FloralWhite"
        Background="Transparent"
        Loaded="LauncherWindowLoaded"
        ContentRendered="LauncherWindowContentRendered"
        IsVisibleChanged="LauncherWindowIsVisibleChanged"
        Closed="LauncherClosed">

    <!-- Keep window animations -->
    <WindowChrome.WindowChrome>
        <WindowChrome GlassFrameThickness="0" CornerRadius="0" CaptionHeight="0" UseAeroCaptionButtons="False" ResizeBorderThickness="7"/>
    </WindowChrome.WindowChrome>

    <!-- Image carousel storyboard animations -->
    <Window.Resources>
        <ResourceDictionary>
            <Storyboard x:Key="CarouselNextImageAnimation"
                        Completed="StoryboardCompleted">
                
                <DoubleAnimation Storyboard.TargetName="carouselImageTranslate"
                                 Storyboard.TargetProperty="(TranslateTransform.X)"
                                 From="0" To="-573"
                                 Duration="0:0:1.5">

                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            <Storyboard x:Key="CarouselNextImageAnimationFollow"
                        Completed="StoryboardCompleted">

                <DoubleAnimation Storyboard.TargetName="carouselImageFollowTranslate"
                                 Storyboard.TargetProperty="(TranslateTransform.X)"
                                 From="573" To="0"
                                 Duration="0:0:1.5">

                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            <Storyboard x:Key="CarouselPrevImageAnimation"
                        Completed="StoryboardCompleted">

                <DoubleAnimation Storyboard.TargetName="carouselImageTranslate"
                                 Storyboard.TargetProperty="(TranslateTransform.X)"
                                 From="0" To="573"
                                 Duration="0:0:1.5">

                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            <Storyboard x:Key="CarouselPrevImageAnimationFollow"
                        Completed="StoryboardCompleted">

                <DoubleAnimation Storyboard.TargetName="carouselImageFollowTranslate"
                                 Storyboard.TargetProperty="(TranslateTransform.X)"
                                 From="-573" To="0"
                                 Duration="0:0:1.5">

                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>

            <!-- Load dictionary into xaml resources just so we can see on the designer -->
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="..\Language\StringResources.en-EN.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Tasbar icon info -->
    <Window.TaskbarItemInfo>
        <TaskbarItemInfo x:Name="taskbarIcon" Description="H1Emu Launcher"/>
    </Window.TaskbarItemInfo>

    <!-- Window grid -->
    <Grid Background="{DynamicResource LighterColour}">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="35"/>
            </Grid.RowDefinitions>

            <!-- Grainy texture -->
            <Grid.Background>
                <ImageBrush ImageSource="..\Resources\Grain.png" Opacity="0.5" TileMode="Tile" ViewportUnits="Absolute" Viewport="0,0,512,512"/>
            </Grid.Background>

            <!-- Grid for logo and exit button & other -->
            <Grid MouseLeftButtonDown="MoveWindow">

                <Grid.Background>
                    <ImageBrush ImageSource="..\Resources\BackgroundArt.png" Opacity="0.6" Stretch="UniformToFill" Viewport="0.15,0,0.85,1"/>
                </Grid.Background>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo -->
                <Image Source="..\Resources\H1EmuLogo.png"
                       Stretch="Uniform"
                       Height="108"
                       Margin="35,25,35,20"
                       VerticalAlignment="Top"
                       HorizontalAlignment="Left">

                    <Image.Effect>
                        <DropShadowEffect BlurRadius="15"
                                          Direction="-90"
                                          RenderingBias="Quality"
                                          ShadowDepth="0"
                                          Opacity="0.3"/>
                    </Image.Effect>
                </Image>

                <!-- Exit/minimise buttons and other info -->
                <Grid Grid.Column="2">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Application actions -->
                    <StackPanel VerticalAlignment="Top"
                                HorizontalAlignment="Right"
                                Margin="35,25,35,10"
                                Orientation="Horizontal">

                        <!-- Open Settings window button-->
                        <Button x:Name="SettingsButton"
                                Click="SettingsButtonClick"
                                Background="{DynamicResource DarkerColour}"
                                Width="45"
                                Height="30"
                                Margin="0,0,4,0"
                                Style="{DynamicResource ToolBarButtonStyle}">

                            <Button.Content>
                                <!-- Settings icon -->
                                <Path x:Name="settingsButtonIcon"
                                      Data="{DynamicResource SettingsIcon}"
                                      Stretch="Uniform"
                                      Stroke="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                      Width="14"
                                      Height="14"
                                      RenderTransformOrigin="0.5, 0.5">

                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="rotateSettingsIcon"/>
                                    </Path.RenderTransform>
                                </Path>
                            </Button.Content>

                            <Button.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard x:Name="settingsButtonRotationStoryBoard">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="rotateSettingsIcon"
                                                             Storyboard.TargetProperty="Angle"
                                                             To="360"
                                                             Duration="0:0:2"
                                                             RepeatBehavior="Forever">

                                                <DoubleAnimation.EasingFunction>
                                                    <BackEase EasingMode="EaseInOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <StopStoryboard BeginStoryboardName="settingsButtonRotationStoryBoard"/>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="settingsButtonIcon"
                                                             Storyboard.TargetProperty="Opacity"
                                                             Duration="0:0:0.3"
                                                             FillBehavior="Stop"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="PreviewMouseLeftButtonDown">
                                </EventTrigger>  
                            </Button.Triggers>
                        </Button>

                        <!-- Minimise to system tray button-->
                        <Button x:Name="MinimiseToSystemTrayButton"
                                Click="MinimiseToSystemTrayButtonClick"
                                Background="{DynamicResource DarkerColour}"
                                Width="45"
                                Height="30"
                                Margin="0,0,4,0"
                                Style="{DynamicResource ToolBarButtonStyle}">

                            <Button.Content>
                                <Path Data="{DynamicResource MinimiseToSystemTrayIcon}"
                                      Stretch="Uniform"
                                      Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                      Width="10"
                                      Height="10"
                                      Margin="0,0,0,4"/>
                                
                            </Button.Content>
                        </Button>

                        <!-- Minimise button-->
                        <Button x:Name="MinimiseButton"
                                Click="MinimiseButtonClick"
                                Background="{DynamicResource DarkerColour}"
                                Width="45"
                                Height="30"
                                Margin="0,0,4,0"
                                Style="{DynamicResource ToolBarButtonStyle}">

                            <Button.Content>
                                <Path Data="{DynamicResource MinimiseIcon}"
                                      Stretch="Uniform"
                                      Stroke="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                      StrokeEndLineCap="Round"
                                      StrokeStartLineCap="Round"
                                      Width="10"
                                      Height="10"
                                      Margin="0,0,0,4"/>
                                
                            </Button.Content>
                        </Button>

                        <!-- Exit button -->
                        <Button x:Name="ExitButton"
                                Click="CloseLauncher"
                                Background="{DynamicResource RedAccent}"
                                Width="45"
                                Height="30"
                                Style="{DynamicResource ToolBarButtonStyle}">

                            <Button.Content>
                                <Path Data="{DynamicResource XIcon}"
                                      Stretch="Uniform"
                                      Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                      Width="10"
                                      Height="10"/>
                                
                            </Button.Content>
                        </Button>
                    </StackPanel>

                    <!-- Discord components -->
                    <Button Grid.Row="1"
                            x:Name="discordLink"
                            Click="OpenDiscord"
                            Foreground="#5865f2"
                            Width="160"
                            Margin="35,0,35,0"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right"
                            RenderOptions.BitmapScalingMode="Fant"
                            Style="{DynamicResource DiscordButton}">

                        <Button.Content>
                            <Viewbox>
                                <Grid>
                                    <Path Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                          Data="M170.85,20.2h27.3q9.87,0,16.7,3.08a22.5,22.5,0,0,1,10.21,8.58,23.34,23.34,0,0,1,3.4,12.56A23.24,23.24,0,0,1,224.93,57a23.94,23.94,0,0,1-10.79,8.92q-7.24,3.3-17.95,3.29H170.85Zm25.06,36.54q6.65,0,10.22-3.32a11.8,11.8,0,0,0,3.57-9.07,11.5,11.5,0,0,0-3.18-8.5q-3.2-3.18-9.63-3.19h-8.54V56.74Z
                                          M269.34,69.13a37,37,0,0,1-10.22-4.27V53.24a27.77,27.77,0,0,0,9.2,4.38,39.31,39.31,0,0,0,11.17,1.71,8.71,8.71,0,0,0,3.82-.66c.86-.44,1.29-1,1.29-1.58a2.37,2.37,0,0,0-.7-1.75,6.15,6.15,0,0,0-2.73-1.19l-8.4-1.89q-7.22-1.68-10.25-4.65a10.39,10.39,0,0,1-3-7.81,10.37,10.37,0,0,1,2.66-7.07,17.13,17.13,0,0,1,7.56-4.65,36,36,0,0,1,11.48-1.65A43.27,43.27,0,0,1,292,27.69a30.25,30.25,0,0,1,8.12,3.22v11a30,30,0,0,0-7.6-3.11,34,34,0,0,0-8.85-1.16q-6.58,0-6.58,2.24a1.69,1.69,0,0,0,1,1.58,16.14,16.14,0,0,0,3.74,1.08l7,1.26Q295.65,45,299,48t3.36,8.78a11.61,11.61,0,0,1-5.57,10.12Q291.26,70.61,281,70.6A46.41,46.41,0,0,1,269.34,69.13Z
                                          M318.9,67.66a21,21,0,0,1-9.07-8,21.59,21.59,0,0,1-3-11.34,20.62,20.62,0,0,1,3.15-11.27,21.16,21.16,0,0,1,9.24-7.8,34.25,34.25,0,0,1,14.56-2.84q10.5,0,17.43,4.41V43.65a21.84,21.84,0,0,0-5.7-2.73,22.65,22.65,0,0,0-7-1.05q-6.51,0-10.19,2.38a7.15,7.15,0,0,0-.1,12.43q3.57,2.41,10.36,2.41a23.91,23.91,0,0,0,6.9-1,25.71,25.71,0,0,0,5.84-2.49V66a34,34,0,0,1-17.85,4.62A32.93,32.93,0,0,1,318.9,67.66Z
                                          M368.64,67.66a21.77,21.77,0,0,1-9.25-8,21.14,21.14,0,0,1-3.18-11.41A20.27,20.27,0,0,1,359.39,37a21.42,21.42,0,0,1,9.21-7.74,38.17,38.17,0,0,1,28.7,0,21.25,21.25,0,0,1,9.17,7.7,20.41,20.41,0,0,1,3.15,11.27,21.29,21.29,0,0,1-3.15,11.41,21.51,21.51,0,0,1-9.2,8,36.32,36.32,0,0,1-28.63,0Zm21.27-12.42a9.12,9.12,0,0,0,2.56-6.76,8.87,8.87,0,0,0-2.56-6.68,9.53,9.53,0,0,0-7-2.49,9.67,9.67,0,0,0-7,2.49,8.9,8.9,0,0,0-2.55,6.68,9.15,9.15,0,0,0,2.55,6.76,9.53,9.53,0,0,0,7,2.55A9.4,9.4,0,0,0,389.91,55.24Z
                                          M451.69,29V44.14a12.47,12.47,0,0,0-6.93-1.75c-3.73,0-6.61,1.14-8.61,3.4s-3,5.77-3,10.53V69.2H416V28.25h16.8v13q1.4-7.14,4.52-10.53a10.38,10.38,0,0,1,8-3.4A11.71,11.71,0,0,1,451.69,29Z
                                          M508.67,18.8V69.2H491.52V60a16.23,16.23,0,0,1-6.62,7.88A20.81,20.81,0,0,1,474,70.6a18.11,18.11,0,0,1-10.15-2.83A18.6,18.6,0,0,1,457.11,60a25.75,25.75,0,0,1-2.34-11.17,24.87,24.87,0,0,1,2.48-11.55,19.43,19.43,0,0,1,7.21-8,19.85,19.85,0,0,1,10.61-2.87q12.24,0,16.45,10.64V18.8ZM489,55a8.83,8.83,0,0,0,2.63-6.62A8.42,8.42,0,0,0,489,42a11,11,0,0,0-13.89,0,8.55,8.55,0,0,0-2.59,6.47A8.67,8.67,0,0,0,475.14,55,9.42,9.42,0,0,0,482,57.51,9.56,9.56,0,0,0,489,55Z
                                          M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z
                                          M234.36,37.9a22.08,22.08,0,0,0,17.11,0V69.42H234.36Z"/>

                                    <Path Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}">
                                        <Path.Data>
                                            <EllipseGeometry Center="242.92, 24.93"
                                                             RadiusX="8.55"
                                                             RadiusY="7.68"/>
                                        </Path.Data>
                                    </Path>
                                </Grid>
                            </Viewbox>
                        </Button.Content>

                        <!-- Context menu to copy link -->
                        <Button.ContextMenu>
                            <ContextMenu Style="{DynamicResource ContextMenuStyle}">
                                <MenuItem x:Name="discordLinkCopyMenuItem"
                                          Click="DiscordLinkCopyClick"
                                          Header="{DynamicResource item193}"
                                          Style="{DynamicResource CustomMenuItem}">

                                    <MenuItem.Icon>
                                        <Path Data="{DynamicResource CopyIcon}"
                                              Fill="{Binding RelativeSource={RelativeSource Mode=Self}, Path=(TextElement.Foreground)}"
                                              Stretch="Uniform"/>
                                    </MenuItem.Icon>
                                </MenuItem>
                            </ContextMenu>
                        </Button.ContextMenu>
                    </Button>
                </Grid>
            </Grid>

            <!-- Main content in darkened area -->
            <Border Grid.Row="1"
                    Margin="35,0,35,0"
                    UseLayoutRounding="True"
                    Background="{DynamicResource DarkerColour}"
                    CornerRadius="5">

                <!-- Drop shadow effect -->
                <Border.Effect>
                    <DropShadowEffect BlurRadius="15"
                                      Direction="-90"
                                      RenderingBias="Quality"
                                      ShadowDepth="1"/>

                </Border.Effect>

                <!-- Border for grainy texture -->
                <Border CornerRadius="5">

                    <!-- Grainy texture -->
                    <Border.Background>
                        <ImageBrush ImageSource="..\Resources\Grain.png" Opacity="0.5" TileMode="Tile" ViewportUnits="Absolute" Viewport="0,0,512,512"/>
                    </Border.Background>

                    <!-- Grid to split main content in half vertically-->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="10"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="10"/>
                        </Grid.RowDefinitions>

                        <!-- Grid for patch notes -->
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Margin="30,10,10,0"
                                       Background="Transparent"
                                       Cursor="Arrow"
                                       Style="{DynamicResource TextBlockStyle}">

                                <!-- Version text -->
                                <Run Foreground="#FFED1C24"
                                     FontFamily="{DynamicResource Signika}"
                                     FontSize="44"
                                     FontWeight="Bold"
                                     Text="{DynamicResource item3}"/>

                                <!-- Update version number -->
                                <Run x:Name="updateVersion"
                                     Foreground="#FFED1C24"
                                     FontFamily="{DynamicResource Signika}"
                                     FontSize="44"
                                     FontWeight="Bold"/>

                                <!-- Date version was published -->
                                <Run x:Name="datePublished"
                                     FontFamily="Bahnschrift Light"/>
                            </TextBlock>

                            <!-- Patch notes textbox -->
                            <ScrollViewer Grid.Row="1"
                                          Margin="30,0,10,0"
                                          VerticalScrollBarVisibility="Hidden"
                                          Style="{DynamicResource CustomScrollViewer}">

                                <TextBlock x:Name="patchNotesBox"
                                           Margin="0,10,0,0"
                                           Background="Transparent"
                                           Foreground="FloralWhite"
                                           FontWeight="Light"
                                           Cursor="Arrow"
                                           TextWrapping="Wrap"
                                           Style="{DynamicResource TextBlockStyle}"/>
                            </ScrollViewer>

                            <!-- Read full details of update hyperlink -->
                            <TextBlock Grid.Row="2"
                                       Margin="30,15,10,15"
                                       Style="{DynamicResource TextBlockStyle}">
    
                                <Hyperlink NavigateUri="https://www.h1emu.com/us/changelog/"
                                           RequestNavigate="FullUpdatesHyperlink"
                                           Style="{DynamicResource HyperLinkStyle}">
    
                                    <TextBlock Text="{DynamicResource item61}"/>
                                </Hyperlink>

                                <!-- Context menu to copy link -->
                                <TextBlock.ContextMenu>
                                    <ContextMenu Style="{DynamicResource ContextMenuStyle}">
                                        <MenuItem Click="PatchNotesCopyClick"
                                                  Header="{DynamicResource item193}"
                                                  Style="{DynamicResource CustomMenuItem}">
                                            
                                            <MenuItem.Icon>
                                                <Path Data="{DynamicResource CopyIcon}"
                                                      Fill="{Binding RelativeSource={RelativeSource Mode=Self}, Path=(TextElement.Foreground)}"
                                                      Stretch="Uniform"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                    </ContextMenu>
                                </TextBlock.ContextMenu>
                            </TextBlock>
                        </Grid>

                        <!-- Grid to split left panel in half horizontally -->
                        <Grid Grid.Row="2">
                            <!-- Grid to dock the game image -->
                            <Grid Grid.Row="1"
                                  Margin="30,0,10,20">

                                <Grid.Background>
                                    <ImageBrush ImageSource="..\Resources\Placeholder.jpg"/>
                                </Grid.Background>

                                <!-- Drop shadow effect -->
                                <Grid.Effect>
                                    <DropShadowEffect BlurRadius="15"
                                                      Direction="-90"
                                                      RenderingBias="Quality"
                                                      ShadowDepth="1"
                                                      Opacity="0.3"/>

                                </Grid.Effect>

                                <!-- Image carousel grid -->
                                <Grid x:Name="imageCarousel"
                                      ClipToBounds="True"
                                      MouseEnter="CarouselMouseEnter"
                                      MouseLeave="CarouselMouseLeave">

                                    <Image x:Name="carouselImage"
                                           Source="..\Resources\1.jpg"
                                           Stretch="Fill"
                                           RenderOptions.BitmapScalingMode="Fant">

                                        <Image.RenderTransform>
                                            <TranslateTransform x:Name="carouselImageTranslate"/>
                                        </Image.RenderTransform>
                                    </Image>

                                    <Image x:Name="carouselImageFollow"
                                           Stretch="Fill"
                                           RenderOptions.BitmapScalingMode="Fant">

                                        <Image.RenderTransform>
                                            <TranslateTransform x:Name="carouselImageFollowTranslate"/>
                                        </Image.RenderTransform>
                                    </Image>

                                    <!-- Next image button -->
                                    <Button x:Name="nextImage"
                                            Click="NextImageClick"
                                            Width="30"
                                            Foreground="#505050"
                                            HorizontalAlignment="Right"
                                            Style="{DynamicResource CarouselButton}">

                                        <Button.Content>
                                            <Path Data="{DynamicResource RightArrowIcon}"
                                                  Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                                  Stretch="Uniform"
                                                  Margin="5,0,5,0"/>
                                        </Button.Content>
                                    </Button>

                                    <!-- Previous image button -->
                                    <Button x:Name="prevImage"
                                            Click="PrevImageClick"
                                            Width="30"
                                            Foreground="#505050"
                                            HorizontalAlignment="Left"
                                            Style="{DynamicResource CarouselButton}">

                                        <Button.Content>
                                            <Path Data="{DynamicResource LeftArrowIcon}"
                                                  Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                                  Stretch="Uniform"
                                                  Margin="5,0,5,0"/>
                                        </Button.Content>
                                    </Button>

                                    <!-- Grid for image carousel progress bar -->
                                    <Grid x:Name="carouselRectangleGrid"
                                          VerticalAlignment="Bottom">

                                        <!-- Fill space to get width -->
                                        <Rectangle Fill="Transparent"
                                                   Height="4"/>

                                        <!-- Image carousel progress bar -->
                                        <Rectangle x:Name="carouselRectangle"
                                                   Fill="#DB111C"
                                                   Height="4"
                                                   HorizontalAlignment="Left"/>
                                    </Grid>
                                </Grid>
                            </Grid>
                        </Grid>

                        <Grid Grid.Row="1"
                              Grid.Column="1">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>

                            <!-- You must own H1Z1 disclaimer message -->
                            <TextBlock Margin="10,20,30,0"
                                       Cursor="Arrow"
                                       TextWrapping="Wrap"
                                       Style="{DynamicResource TextBlockStyle}">

                                <Run Foreground="#FFCA1420"
                                     Text="{DynamicResource item10}"/>
        
                                <Run Text="{DynamicResource item11}"/>
        
                                <LineBreak/>
                                <LineBreak/>
        
                                <Run Text="{DynamicResource item50}"/>
                            </TextBlock>

                            <!-- H1Emu Chinese Community link -->
                            <TextBlock x:Name="chineseLink"
                                       Grid.Row="2"
                                       Margin="10,0,30,0"
                                       Visibility="Collapsed"
                                       FontFamily="Bahnschrift"
                                       Text="点击进入 "
                                       FontWeight="Bold"
                                       Style="{DynamicResource TextBlockStyle}">

                                <Hyperlink NavigateUri="https://azaz.ge/"
                                           RequestNavigate="H1EmuChineseLink"
                                           Style="{DynamicResource HyperLinkStyle}">

                                    <TextBlock Text="H1Emu中文社区"
                                               FontWeight="Bold"/>
                                </Hyperlink>

                                <TextBlock Text="，了解更多中文信息。"
                                           FontWeight="Bold"/>

                                <!-- Context menu to copy link -->
                                <TextBlock.ContextMenu>
                                    <ContextMenu Style="{DynamicResource ContextMenuStyle}">
                                        <MenuItem Click="ChineseLinkCopyClick"
                                                  Header="{DynamicResource item193}"
                                                  Style="{DynamicResource CustomMenuItem}">
                                            
                                            <MenuItem.Icon>
                                                <Path Data="{DynamicResource CopyIcon}"
                                                      Fill="{Binding RelativeSource={RelativeSource Mode=Self}, Path=(TextElement.Foreground)}"
                                                      Stretch="Uniform"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                    </ContextMenu>
                                </TextBlock.ContextMenu>
                            </TextBlock>
                        </Grid>

                        <!-- Grid that hosts Steam frame, divider, server selector and play button -->
                        <Grid Grid.Row="2"
                              Grid.Column="1">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>

                            <!-- Steam frame -->
                            <Frame x:Name="steamFramePanel"
                                   Margin="10,0,30,0"
                                   Height="140"
                                   VerticalAlignment="Top"
                                   Source="..\SteamFramePages\Login.xaml"
                                   NavigationUIVisibility="Hidden"
                                   f:DisableFrameNavigation.Disable="True"/>

                            <!-- Grid for directory box, divider, server selector and play button -->
                            <Grid Grid.Row="2"
                                  Margin="10,0,30,0">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Grid Grid.ColumnSpan="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Divider -->
                                    <Rectangle Height="1"
                                               Margin="0,0,10,0"
                                               Fill="{DynamicResource LighterColour}"
                                               RenderOptions.BitmapScalingMode="Fant">

                                        <Rectangle.Effect>
                                            <DropShadowEffect BlurRadius="8"
                                                              Direction="-90"
                                                              RenderingBias="Quality"
                                                              ShadowDepth="1"
                                                              Opacity="0.3"/>
                                        </Rectangle.Effect>
                                    </Rectangle>

                                    <!-- Current detected game version -->
                                    <TextBlock x:Name="currentGame" 
                                               Grid.Column="1"
                                               Foreground="Gray"
                                               FontFamily="Bahnschrift"
                                               FontWeight="Bold"
                                               FontSize="15"
                                               HorizontalAlignment="Center"
                                               Text="{DynamicResource item69}"
                                               Style="{DynamicResource TextBlockStyle}"/>

                                    <!-- Divider -->
                                    <Rectangle Grid.Column="2"
                                               Height="1"
                                               Margin="10,0,0,0"
                                               Fill="{DynamicResource LighterColour}"
                                               RenderOptions.BitmapScalingMode="Fant">

                                        <Rectangle.Effect>
                                            <DropShadowEffect BlurRadius="8"
                                                              Direction="-90"
                                                              RenderingBias="Quality"
                                                              ShadowDepth="1"
                                                              Opacity="0.3"/>
                                        </Rectangle.Effect>
                                    </Rectangle>
                                </Grid>

                                <!-- Grid containing game directory and icons/buttons -->
                                <Grid Grid.ColumnSpan="2"
                                      Grid.Row="1">

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="15"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Game directory textbox -->
                                    <TextBox x:Name="directoryBox"
                                             Grid.Column="1"
                                             Grid.Row="1"
                                             Height="35"
                                             Padding="32,1,32,0"
                                             IsReadOnly="True"
                                             Cursor="Arrow"
                                             VerticalContentAlignment="Center"
                                             Text="{DynamicResource item75}"
                                             Style="{DynamicResource TextBoxStyle}">

                                        <TextBox.Effect>

                                            <!-- Drop shadow effect -->
                                            <DropShadowEffect BlurRadius="15"
                                                              Direction="-90"
                                                              RenderingBias="Quality"
                                                              ShadowDepth="1"
                                                              Opacity="0.3"/>
                                        </TextBox.Effect>
                                    </TextBox>

                                    <!-- Button to open file explorer to game directory -->
                                    <Button Grid.Column="1"
                                            Grid.Row="1"
                                            Click="OpenDirectory"
                                            Width="20"
                                            Height="20"
                                            Margin="10,0,0,0"
                                            HorizontalAlignment="Left"
                                            RenderOptions.BitmapScalingMode="Fant"
                                            Style="{DynamicResource PathButton}">

                                        <Button.Content>
                                            <Path Data="{DynamicResource FolderIcon}"
                                                  Stretch="Uniform"
                                                  Stroke="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"
                                                  StrokeThickness="2"/>
                                        </Button.Content>
                                    </Button>

                                    <!-- Button to select a new game directory -->
                                    <Button x:Name="directoryButton"
                                            Grid.Column="1"
                                            Grid.Row="1"
                                            Click="SelectDirectory"
                                            Width="20"
                                            Height="20"
                                            Margin="0,0,10,0"
                                            HorizontalAlignment="Right"
                                            RenderOptions.BitmapScalingMode="Fant"
                                            Style="{DynamicResource PathButton}">

                                        <Button.Content>
                                            <Path Data="{DynamicResource ArrowIcon}"
                                                  Stretch="Uniform"
                                                  Fill="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}"/>
                                        </Button.Content>
                                    </Button>
                                </Grid>

                                <!-- Server selector combobox -->
                                <ComboBox x:Name="serverSelector"
                                          Grid.Row="3"
                                          Height="35"
                                          Margin="0,20,10,20"
                                          Padding="36,2,4,0"
                                          VerticalAlignment="Center"
                                          VerticalContentAlignment="Center"
                                          Foreground="FloralWhite"
                                          FontWeight="Light"
                                          BorderThickness="2"
                                          SelectedIndex="0"
                                          SelectionChanged="ServerSelectorChanged"
                                          Style="{DynamicResource ComboBoxStyle}">


                                    <ComboBoxItem Content="{DynamicResource item139}"
                                                  Style="{DynamicResource ComboBoxItemStyle}"/>

                                    <ComboBoxItem Content="{DynamicResource item140}"
                                                  Style="{DynamicResource ComboBoxItemStyle}"/>

                                    <Separator Background="#444444"/>

                                    <ComboBoxItem Content="{DynamicResource item141}"
                                                  PreviewMouseLeftButtonUp="AddNewServer"
                                                  Style="{DynamicResource ComboBoxItemStyle}"/>

                                    <ComboBox.Effect>
                                        <DropShadowEffect BlurRadius="15"
                                                          Direction="-90"
                                                          RenderingBias="Quality"
                                                          ShadowDepth="0"
                                                          Opacity="0.3"/>
                                    </ComboBox.Effect>
                                </ComboBox>

                                <!-- Server selector icon -->
                                <Path Grid.Row="3"
                                      Data="{DynamicResource PlayIcon}"
                                      Stroke="FloralWhite"
                                      StrokeThickness="2"
                                      Stretch="Uniform"
                                      Width="18"
                                      Height="18"
                                      Margin="11,0,0,1"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Left"
                                      IsHitTestVisible="False"/>

                                <!-- Play button -->
                                <Button x:Name="playButton"
                                        Grid.Row="3"
                                        Grid.Column="1"
                                        Click="LaunchClient"
                                        RenderOptions.BitmapScalingMode="Fant"
                                        Height="45"
                                        Margin="10,20,0,20"
                                        VerticalAlignment="Bottom"
                                        FontSize="28"
                                        Content="{DynamicResource item8}"
                                        Style="{DynamicResource PrimaryButton}">

                                    <Button.Effect>
                                        <DropShadowEffect BlurRadius="15"
                                                          Direction="-90"
                                                          RenderingBias="Quality"
                                                          ShadowDepth="0"
                                                          Opacity="0.3"/>
                                    </Button.Effect>
                                </Button>
                            </Grid>
                        </Grid>
                    </Grid>
                </Border>
            </Border>

            <!-- Footer -->
            <Grid Grid.Row="2">

                <Grid.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="copyrightNotice"
                                                 Storyboard.TargetProperty="Opacity"
                                                 To="1"
                                                 Duration="0:0:0.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="copyrightNotice"
                                                 Storyboard.TargetProperty="Opacity"
                                                 To="0"
                                                 Duration="0:0:0.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Grid.Triggers>
                
                <!-- Copyright notice -->
                <TextBlock x:Name="copyrightNotice"
                           Grid.Column="1"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Foreground="Gray"
                           FontSize="14"
                           Opacity="0"
                           Text="{DynamicResource item125}"
                           Style="{DynamicResource TextBlockStyle}"/>
            </Grid>
        </Grid>
    </Grid>
</Window>